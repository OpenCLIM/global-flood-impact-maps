kind: M
api_version: v1beta3
metadata:
  display_name: Global_Urban_Flooding:Flood Impact Maps
  name: flood-impact-maps
  contact_point_name: Olivia Butters
  contact_point_email: olivia.butters@newcastle.ac.uk
  publisher: Newcastle University
  summary: >
    Visualisation of flood impacts for different scenarios
  source_code: https://github.com/OpenCLIM/global-flood-impact-maps
  description: >
    This model can be appended onto the end of the flood impact assessment model, or work on its own.
    If standalone, the user can add 1,2 or 4 output files generated by the Urban_Flooding: Flood Impact Assessment model.
    Taking the 1km damages, and flooded building data, this model creates georeferenced maps of the data which can be cross compared
    for different scenarios/ rainfall events.

spec:
  inputs:
    parameters:
      - name: LOCATION
        title: Location
        type: string
        description: The city/location of interest.
        required: false
        
    dataslots:
      - name: Boundary
        description:
          This file should be in gpkg or shp format and should define the city bounds.
        path: inputs/boundary
        required: false

      - name: Parameters
        description:
          A list of parameters in csv format generated by the user input model.
        path: inputs/parameters
        required: false 

      - name: OS Grid Selection
        description:
          A single geopackage containing each OS British National 5km Grid cell. 
          The coordinate reference system is British National Grid (ESPG:27700)
        default:
          - 0c6275e1-1557-4b5a-9548-7c6c87309368
        path: inputs/grid
        required: true

      - name: Impact Assessment Output
        description: 
          All the output data generated by the flood impact assessment model. 
          1,2 or 4 csv files with the following naming structure - 1km_data_location_ssp_year_depth.csv
          The file should contain data for each 1km os grid cell.
        path: inputs
        required: false
   
  outputs:
    datasets:
      - name: outputs/data/
        type: folder
        description: path to model outputs

      - name: outputs/parameters/*
        type: folder
        description:
          All parameters and their values are stored in a csv file.

      - name: outputs/udm_parameters/*
        type: folder
        description:
          A series of csv files outlinning the parameters and values used by the Urban Development Workflow to generate the dataset.
